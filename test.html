<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<script src="roslib.js"></script>
<!-- <script src="src/EventEmitter.js"></script> -->

<script>
  var my_ip = "192.168.0.45";

  var ros = new ROSLIB.Ros();

  ros.on('error', function (error) {
    console.log('Error connecting to ROS: ', error);
  });

  ros.on('connection', function () {
    console.log('Connected to ROS');
  });

  ros.on('close', function () {
    console.log('Connection to ROS closed');
  });

  ros.connect('ws://' + my_ip + ':9090');

  var listener = new ROSLIB.Topic({
    ros : ros,
    name : '/listener',
    messageType : 'std_msgs/String'
  });

  listener.subscribe(function(message) {
    document.write(message.data);
    console.log('Received message on ' + listener.name + ': ' + message.data);
  });
</script>
</head>

<body>
  <h1>Simple roslib Example</h1>
  <p>Run the following commands in the terminal then refresh this page. Check the JavaScript
    console for the output.</p>
</body>
</html>
