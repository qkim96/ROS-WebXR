<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<script src="src/roslib.js"></script>

<script>
  var ros = new ROSLIB.Ros();

  ros.on('error', function(error) {
    console.log('Error connecting to ROS: ', error);
  });

  ros.on('connection', function() {
    console.log('Connected to ROS');
  });

  ros.on('close', function() {
    console.log('Connection to ROS closed');
  });

  ros.connect('ws://localhost:9090');

  //Subscribing to a Topic
  var listener = new ROSLIB.Topic({
    ros : ros,
    name : '/listener',
    messageType : 'std_msgs/String'
  });

  // Then we add a callback to be called every time a message is published on this topic.
  listener.subscribe(function(message) {
    document.write(message.data)
    console.log('Received message on ' + listener.name + ': ' + message.data);
  });
</script>
</head>
<body>
    <h1>Simple roslib Example</h1>
    <p>rostopic pub /listener std_msgs/String ...</p>
</body>
</html>
